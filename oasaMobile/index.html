<!DOCTYPE html>
<html id="EvoxBasedHTML">
<!--Base Version. Latest Version-->

<head>
    <title>OASA Redesign</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="default.css">
    <link rel="icon" type="image/png" href="apple.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple.png">
    <link rel="apple-touch-icon" sizes="152x152" href="apple.png">
    <link rel="apple-touch-icon" sizes="120x120" href="apple.png">
    <link rel="apple-touch-icon" sizes="76x76" href="apple.png">
    <link rel="apple-touch-icon-precomposed" href="apple.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#1C1B1E" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#1C1B1E" media="(prefers-color-scheme: dark)">
    <meta name="application-name" content="OASA">


    <script>
        window.onerror = function (message, source, lineno, colno, error) {
            try {
                document.getElementById("theDebug").innerHTML = document.getElementById("theDebug").innerHTML + `<br><span style="color: red">${args.join(' ')}</span>`
            } catch (error) {
                console.log("Bypassing")
            }
            
            alert(`An error occurred: ${message} at ${source}:${lineno}:${colno}`);
            return false;  // Let the browser console still show the error if available
        };

        window.addEventListener('unhandledrejection', function (event) {
            alert(`An unhandled promise rejection occurred: ${event.reason}`);
        });
        var debugDiv = document.getElementById('theDebug');

        function scrollToBottom() {
            try {
                var debugDiv = document.getElementById('theDebug');
                debugDiv.scrollTop = debugDiv.scrollHeight - debugDiv.clientHeight;
            } catch (error) {
                console.log("Scroll Failed")
            }
            
        }

        // Function to check if scrolled to the bottom
        function isScrolledToBottom() {
            // Check if the scroll position is at the bottom
            return debugDiv.scrollTop + debugDiv.clientHeight >= debugDiv.scrollHeight;
        }

        function dothiS() {
            var debugDiv = document.getElementById('theDebug');
            debugDiv.scrollTop = debugDiv.scrollHeight - debugDiv.clientHeight;
            return;
            if (line > 10) {
                if (debugDiv.scrollTop + debugDiv.clientHeight >= debugDiv.scrollHeight) {
                    // If scrolled to the bottom, do something
                    console.log('Scrolled to the bottom!');
                    // You can replace console.log with any action you want to perform

                } else {
                    //nothing
                }
            }
        }

        let line = -1
        console.log("%cConsole moved inside the app.", "color: red; font-family:sans-serif; font-size: 20px");
        console.log("%cTap the search icon if you don't see the terminal/console.", "color: white; font-family:sans-serif;font-weight: bolder; font-size: 14px");
        console.log("");
        console.log("%cQuick 'OASA Reloaded' Documentation:\n\n\nmain*: Fixes css margin on untested devices.\n\n@reload: Reloads oasa home page countdowns.\n\ncls: Clears debug terminal contents.\n\nLocation icon: Not yet used for its purpose, currently just reloads the page.\n\nSearch icon: Toggles debug mode, again not yet used for its purpose, when debug mode is on Terminal is shown, when off it is not shown.\n\n$tempVoHide: meaning -> Temporary Vox Hide\n- Hides the debug terminal div until the page is reloaded.\n\nEverything else: Understandable by humans [⚠️95IQ+ Required!].", "color: white; font-family:sans-serif;font-weight: bolder; font-size: 15px");
        console.log("%cThanks for using Evox ❤️❤️", "color: red; font-family:sans-serif;font-weight: bolder; font-size: 14px");

        const originalConsoleLog = console.log;

        // Override the console.log function
        console.log = function (...args) {
            // Display an alert with the log message
            //alert(args.join(' '));
            line = line + 1
            document.getElementById("theDebug").innerHTML = document.getElementById("theDebug").innerHTML + `<br>[${line}]: ${args.join(' ')}`

            dothiS()



            // Call the original console.log function with the same arguments
            originalConsoleLog.apply(console, args);
        };

        // Handle unhandled promise rejections
        window.addEventListener('unhandledrejection', function (event) {
            alert(`An unhandled promise rejection occurred: ${event.reason}`);
        });
        console.log("%cConsole moved inside the app.", "color: red; font-family:sans-serif; font-size: 20px");
        console.log("%cTap the search icon if you don't see the terminal/console.", "color: white; font-family:sans-serif;font-weight: bolder; font-size: 14px");
        console.log("");
        console.log("%cQuick 'OASA Reloaded' Documentation:\n\n\nmain*: Fixes css margin on untested devices.\n\n@reload: Reloads oasa home page countdowns.\n\ncls: Clears debug terminal contents.\n\nLocation icon: Not yet used for its purpose, currently just reloads the page.\n\nSearch icon: Toggles debug mode, again not yet used for its purpose, when debug mode is on Terminal is shown, when off it is not shown.\n\n$tempVoHide: meaning -> Temporary Vox Hide\n- Hides the debug terminal div until the page is reloaded.\n\nEverything else: Understandable by humans [⚠️95IQ+ Required!].", "color: white; font-family:sans-serif;font-weight: bolder; font-size: 15px");
        console.log("%cThanks for using Evox ❤️❤️", "color: red; font-family:sans-serif;font-weight: bolder; font-size: 14px");







    </script>
</head>

<body>
    <div id="phone">
        <div id="main-wrapper" class="fancy-scrollbar">
            <div id="main">
                <div id="content">
                    <div id="links-container">
                        <a id="netStats" onclick="document.documentElement.style.setProperty('--isOldDevice', '5px');"
                            href="#"><svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg"
                                xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="15px" height="15px"
                                viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve">
                                <path opacity="0.2" fill="#fff"
                                    d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946
                             s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634
                             c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z" />
                                <path fill="#fff" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0
                             C22.32,8.481,24.301,9.057,26.013,10.047z">
                                    <animateTransform attributeType="xml" attributeName="transform" type="rotate"
                                        from="0 20 20" to="360 20 20" dur="0.3s" repeatCount="indefinite" />
                                </path>
                            </svg></a>
                        <a onclick="document.documentElement.style.setProperty('--isOldDevice', '0');"
                            href="#">main*</a>
                        <a onclick="getBus('16')
                        getBus('831')
                        getBus('828')
                        getBus('049')
                        getBus('904')
                        getBus('420')" href="#">@reload</a>
                        <a onclick="document.getElementById('theDebug').innerHTML = 'Terminal Restarted'"
                            href="#">cls</a>
                    </div>
                    <div id="header-container">
                        <img id="logo" src="doodle.png" />

                    </div>
                    <div id="search-container">
                        <div id="search-input-container">
                            <img src="evox-logo-dark.png" alt="" />
                            <input type="text" placeholder="Search Evox" />
                        </div>
                        <button onclick="window.location.reload()" id="mic-button" type="button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24"
                                fill="none">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M13 3C13 2.44772 12.5523 2 12 2C11.4477 2 11 2.44772 11 3V4.06189C7.38128 4.51314 4.51314 7.38128 4.06189 11H3C2.44772 11 2 11.4477 2 12C2 12.5523 2.44772 13 3 13H4.06189C4.51314 16.6187 7.38128 19.4869 11 19.9381V21C11 21.5523 11.4477 22 12 22C12.5523 22 13 21.5523 13 21V19.9381C16.6187 19.4869 19.4869 16.6187 19.9381 13H21C21.5523 13 22 12.5523 22 12C22 11.4477 21.5523 11 21 11H19.9381C19.4869 7.38128 16.6187 4.51314 13 4.06189V3ZM10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12ZM12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8Z"
                                    fill="#d5d5d5" />
                            </svg>
                        </button>
                        <button onclick="changeDebug()" id="image-button" type="button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24"
                                fill="none">
                                <path
                                    d="M15.7955 15.8111L21 21M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z"
                                    stroke="#d5d5d5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </button>
                    </div>

                    <div id="apps-container">
                        <a href="#" onclick="showInfo('16')">
                            <p>16<span class="invisible-number">&nbsp;</span></p>
                            <div class="label">
                                <span class="name">Καμίνια</span>
                                <span id="remain16" class="url">Loading..</span>
                            </div>
                        </a>
                        <a href="#" onclick="showInfo('831')">
                            <p>831</p>
                            <div class="label">
                                <span class="name">Πειραιάς</span>
                                <span id="remain831" class="url">Loading..</span>
                            </div>
                        </a>
                        <a href="#" onclick="showInfo('828')">
                            <p>828</p>
                            <div class="label">
                                <span class="name">Πειραιάς</span>
                                <span id="remain828" class="url">Loading..</span>
                            </div>
                        </a>
                        <a href="#" onclick="showInfo('049')">
                            <p>049</p>
                            <div class="label">
                                <span class="name">Πειραιάς</span>
                                <span id="remain049" class="url">Loading..</span>
                            </div>
                        </a>
                        <a href="#" onclick="showInfo('904')">
                            <p>904</p>
                            <div class="label">
                                <span class="name">Καραϊσκάκη</span>
                                <span id="remain904" class="url">Loading..</span>
                            </div>
                        </a>
                        <a href="#" onclick="showInfo('420')">
                            <p>420</p>
                            <div class="label">
                                <span class="name">Πειραιάς</span>
                                <span id="remain420" class="url">Loading..</span>
                            </div>
                        </a>

                    </div>
                    <div id="debug" class="discover-container">
                        <div id="discover-toggles">
                            <button type="button">Terminal</button>
                            <button onclick="document.getElementById('debug').style.display = 'none'"
                                type="button">$tempVoHide</button>
                        </div>
                        <div id="discover-feed">
                            <a href="#" class="discover-card">
                                <div style="width: 100%;
                                aspect-ratio: 1.6 / 1;
                                object-fit: cover;
                                border-radius: 0.5rem;
                                border-bottom-left-radius: 0.25rem;
                                border-bottom-right-radius: 0.25rem;background-color: #000000;color:lime;height: 211px;padding: 20px; max-height: 211px; overflow: auto;font-family: 'Consolas';"
                                    id="theDebug">Terminal Launched
                                </div>
                                <div onclick="scrollToBottom()" class="discover-card-info">
                                    <p class="title" id="timetable">Tap Here To Scroll To The Bottom Of The Logs</p>
                                    <p class="desc">This terminal is used for debug in test versions. Click the search
                                        icon to hide it if you are a normal user.</p>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="popIt" class="popup">
        <div id="grab" class="grabbable"></div>
        <h3 style="text-align: center;">Λεωφορείο: <span id="whatBus"></span></h3>
        <div id="oasaBased" class="oasaBased">
            <div id="16defTime" class="timeBox">
                Παναγίτσα<span id="based">Loading..</span>
            </div>
            <div id="904live1" class="timeBox">
                Κοραή<span id="based904">Loading..</span>
                <br>
                <p>Πλ. Καραϊσκάκη - Φρεαττύδα</p>
            </div>
            <div id="049live1" class="timeBox">
                Κεράνης<span id="based049">Loading..</span>
                <br>
                <p>Ομόνοια - Πειραιάς</p>
            </div>
            <div id="049live2" class="timeBox">
                Δημοτικό Θέατρο<span id="based049Dhm">Loading..</span>
                <br>
                <p>Πειραιάς - Ομόνοια</p>
            </div>
        </div>
        <div id="evoxBased" class="evoxBased">

        </div>

        <div class="parentBack" style="opacity: 0;">
            <div onclick="inform()" class="goBack"> <!--onclick="goBack()"-->
                Return
            </div>
        </div>

    </div>
    <div id="popIt2" class="popup">
        <h3 style="text-align: center;">Debug:</h3>
        <p style="font-size: 17px;gap:10px;
        font-family: 'Noto Sans', sans-serif;
        /* top | left and right | bottom */
        padding: 5px 0 0 0;
        width: 100%;
        height: 80vh;
        text-align: left;
        margin-bottom: 0;
        background-color: transparent;
        color: #e6e6e6;
        border: none;
        resize: none;
        /* Hide the resize handle */
        /* Prevent automatic line breaks */
        overflow-x: hidden;">Terminal Launched</p>
        <button onclick='document.getElementById("popIt2").classList.remove("active")'>Back</button>
        <button onclick='sendToNote()'>Send To Note</button>


    </div>
</body>
<script>
    //    let storageContent = '';
    //
    //for (let i = 0; i < localStorage.length; i++) {
    //    // Get the key at this index
    //    const key = localStorage.key(i);
    //
    //    // Check if the key is 'voxHTML'
    //    if (key === 'voxHTML') {
    //        // Set the value associated with 'voxHTML' to 'null'
    //        localStorage.setItem(key, 'null');
    //    }
    //
    //    // Get the current value (updated value if modified)
    //    const value = localStorage.getItem(key);
    //
    //    // Append the key and value to the storageContent string
    //    storageContent += `${key}: ${value}\n`;
    //}

    // Display the concatenated key-value pairs in an alert
    //alert(storageContent);
    //document.getElementById("theDebug").innerHTML = storageContent

    //document.getElementById("popIt2").classList.add("active")

</script>
<script src="script.js"></script>

</html>
<!DOCTYPE html>
<html>

<head>
    <title>Camera and Microphone Selector</title>
</head>

<body>
    <div>
        <label for="camera-select">Camera:</label>
        <select id="camera-select"></select>
    </div>
    <div>
        <label for="microphone-select">Microphone:</label>
        <select id="microphone-select"></select>
    </div>
    <video id="video" width="640" height="480" autoplay></video>
   <!-- <script>
        const videoElement = document.getElementById('video');
        const cameraSelect = document.getElementById('camera-select');
        const microphoneSelect = document.getElementById('microphone-select');

        function startStream() {
            const constraints = {
                video: { deviceId: cameraSelect.value },
                audio: { deviceId: microphoneSelect.value }
            };

            navigator.mediaDevices.getUserMedia(constraints)
                .then(stream => {
                    videoElement.srcObject = stream;
                })
                .catch(error => {
                    console.error('Error accessing media devices.', error);
                });
        }

        navigator.mediaDevices.enumerateDevices()
            .then(devices => {
                const cameras = devices.filter(device => device.kind === 'videoinput');
                const microphones = devices.filter(device => device.kind === 'audioinput');

                cameras.forEach(camera => {
                    const option = document.createElement('option');
                    option.value = camera.deviceId;
                    option.text = camera.label;
                    cameraSelect.appendChild(option);
                });

                microphones.forEach(microphone => {
                    const option = document.createElement('option');
                    option.value = microphone.deviceId;
                    option.text = microphone.label;
                    microphoneSelect.appendChild(option);
                });

                startStream();
            })
            .catch(error => {
                console.error('Error accessing media devices.', error);
            });

        cameraSelect.addEventListener('change', startStream);
        microphoneSelect.addEventListener('change', startStream);

        
    </script>-->
    <script>
        const MediaCapture = require('node-media-capture');

            MediaCapture.getVideoDevices().then(devices => {
                devices.forEach(device => {
                    console.log(`Device ID: ${device.deviceId}, Name: ${device.label}`);
                });
            }).catch(error => {
                console.error(error);
            });

    </script>
</body>

</html>